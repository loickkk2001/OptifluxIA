<div class="dashboard-container p-4 md:p-6">
  <h1 class="dashboard-title text-2xl md:text-3xl font-bold mb-6">
    Tableau de bord
  </h1>

  <!-- Cartes de statistiques -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
    <p-card header="Utilisateurs" class="shadow-md">
      <div class="flex items-center justify-between">
        <p class="text-5xl font-bold">{{ users.length }}</p>
        <i class="pi pi-users text-4xl opacity-50"></i>
      </div>
      <p class="text-sm mt-2">Professionnels de l'hôpital</p>
    </p-card>

    <p-card header="Services" class="shadow-md">
      <div class="flex items-center justify-between">
        <p class="text-5xl font-bold">{{ services.length }}</p>
        <i class="pi pi-users text-4xl opacity-50"></i>
      </div>
      <p class="text-sm mt-2">Différent services</p>
    </p-card>

    <p-card header="Cadre de santé" class="shadow-md">
      <div class="flex items-center justify-between">
        <p class="text-5xl font-bold">{{ cadreCount }}</p>
        <i class="pi pi-users text-4xl opacity-50"></i>
      </div>
      <p class="text-sm mt-2">Cadre de services</p>
    </p-card>

    <p-card header="Secrétaire" class="shadow-md">
      <div class="flex items-center justify-between">
        <p class="text-5xl font-bold">{{ nurseCount }}</p>
        <i class="pi pi-users text-4xl opacity-50"></i>
      </div>
      <p class="text-sm mt-2">Secrétaire des services</p>
    </p-card>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
    <p-card header="Salles" class="shadow-md">
      <div class="flex items-center justify-between">
        <p class="text-5xl font-bold">{{ rooms.length }}</p>
        <i class="pi pi-users text-4xl opacity-50"></i>
      </div>
      <p class="text-sm mt-2">Salles de l'hôpital</p>
    </p-card>

    <p-card header="Pôles" class="shadow-md">
      <div class="flex items-center justify-between">
        <p class="text-5xl font-bold">{{ poles.length }}</p>
        <i class="pi pi-users text-4xl opacity-50"></i>
      </div>
      <p class="text-sm mt-2">Pôles de l'hôpital</p>
    </p-card>

    <p-card header="Specialités" class="shadow-md">
      <div class="flex items-center justify-between">
        <p class="text-5xl font-bold">{{ specialities.length }}</p>
        <i class="pi pi-users text-4xl opacity-50"></i>
      </div>
      <p class="text-sm mt-2">Specialtés de l'hôpital</p>
    </p-card>

    <p-card header="Médecins" class="shadow-md">
      <div class="flex items-center justify-between">
        <p class="text-5xl font-bold">{{ doctorCount }}</p>
        <i class="pi pi-users text-4xl opacity-50"></i>
      </div>
      <p class="text-sm mt-2">Médecins des services</p>
    </p-card>
  </div>

  <p-card header="Tous les utilisateurs" class="mb-6">
    <p-table
      [value]="users"
      [paginator]="true"
      [rows]="5"
      [tableStyle]="{ 'min-width': '50rem' }"
      styleClass="p-datatable-striped"
    >
      <ng-template pTemplate="header">
        <tr>
          <th *ngFor="let col of cols" [pSortableColumn]="col.field">
            {{ col.header }}
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user>
        <tr class="table-row hover:bg-gray-50">
          <td class="p-3 border-b">{{ user.first_name }}</td>
          <td class="p-3 border-b">{{ user.last_name }}</td>
          <td class="p-3 border-b">{{ user.email }}</td>
          <td class="p-3 border-b">{{ user.phoneNumber }}</td>
          <td class="p-3 border-b">{{ user.role }}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td [colSpan]="cols.length" class="text-center py-4 justify-center">
            Aucune absence aujourd'hui
          </td>
        </tr>
      </ng-template>
    </p-table>
  </p-card>
</div>
